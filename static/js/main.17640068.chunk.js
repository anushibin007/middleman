(this.webpackJsonpmiddleman=this.webpackJsonpmiddleman||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(23),i=n.n(r),s=(n(75),n(76),n(77),n(78),n(117)),j=(n(79),n(120)),l=n(119),o=n(17),d=n(112),b=n(118),u=(n(55),n(3));var O=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],r=t[1],i=function(){return r(!1)};return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)(d.a,{variant:"navbar-btn",onClick:function(){return r(!0)},children:[Object(u.jsx)("i",{className:"bi bi-person"}),"\xa0About Me"]}),Object(u.jsxs)(b.a,{show:n,onHide:i,children:[Object(u.jsx)(b.a.Header,{children:Object(u.jsxs)(b.a.Title,{children:[Object(u.jsx)("i",{className:"bi bi-person"}),"\xa0About Me"]})}),Object(u.jsx)(b.a.Body,{children:Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsxs)("div",{className:"d-flex justify-content-center",children:["Designed & Developed with ",Object(u.jsx)("span",{className:"heart animate__animated animate__heartBeat animate__infinite px-1",children:"\u2665"})," by"," ",Object(u.jsx)("a",{className:"px-1",href:"https://github.com/anushibin007/middleman",children:"Anu Shibin Joseph Raj"})]}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsx)("img",{src:"https://www.freevisitorcounters.com/en/counter/render/842593/t/0",border:"0",className:"counterimg",alt:"Visitor Counter"})})]})}),Object(u.jsx)(b.a.Footer,{children:Object(u.jsx)(d.a,{variant:"info",onClick:i,children:"Close"})})]})]})},h=n(43),x=n(48),f=n(113),m=n(122),p={LOCALSTORAGE_CONFIG_KEY:"MIDDLEMAN_SERVER_URL_KEY",SERVER_URL:Object({NODE_ENV:"production",PUBLIC_URL:"/middleman",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URL||"https://us-central1-middleman-e3e91.cloudfunctions.net"},g=n(30),v=(n(88),Object(a.createContext)()),S=function(e){var t=Object(a.useState)({userMailId:""}),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){var e=localStorage.getItem(p.LOCALSTORAGE_CONFIG_KEY);e&&r(JSON.parse(e))}),[]),Object(a.useEffect)((function(){localStorage.setItem(p.LOCALSTORAGE_CONFIG_KEY,JSON.stringify(c))}),[c]),Object(u.jsx)(v.Provider,{value:[c,r],children:e.children})};g.a.apps.length?g.a.app():g.a.initializeApp({apiKey:"AIzaSyArqWXJZLZaw7WgWfKjangejIpOptcv6lk",authDomain:"middleman-e3e91.firebaseapp.com",databaseURL:"https://middleman-e3e91-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"middleman-e3e91",storageBucket:"middleman-e3e91.appspot.com",messagingSenderId:"755724474676",appId:"1:755724474676:web:541ed5a70384e5179dad61",measurementId:"G-B0D97MQ495"}),g.a.analytics();var C=function(){var e=Object(a.useContext)(v),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),s=Object(o.a)(i,2),j=s[0],l=s[1],O=Object(a.useState)({}),p=Object(o.a)(O,2),g=p[0],S=p[1],C=function(){return l(!1)};return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsxs)(d.a,{variant:"navbar-btn",onClick:function(){S(Object(x.a)({},n)),l(!0)},children:[Object(u.jsx)("i",{className:"bi bi-gear"}),"\xa0Config"]}),Object(u.jsxs)(b.a,{show:j,onHide:C,children:[Object(u.jsx)(b.a.Header,{children:Object(u.jsxs)(b.a.Title,{children:[Object(u.jsx)("i",{className:"bi bi-gear"}),"\xa0Config"]})}),Object(u.jsx)(b.a.Body,{children:Object(u.jsx)("div",{className:"d-flex flex-column",children:Object(u.jsxs)(f.a,{children:[Object(u.jsx)(f.a.Prepend,{children:Object(u.jsxs)(f.a.Text,{children:[Object(u.jsx)("i",{className:"bi bi-envelope"}),"\xa0Your Mail ID"]})}),Object(u.jsx)(m.a,{type:"email",placeholder:"me@gmail.com",name:"userMailId",value:g.userMailId,onChange:function(e){S(Object(x.a)(Object(x.a)({},n),{},Object(h.a)({},e.target.name,e.target.value)))},"aria-label":"Server URL"})]})})}),Object(u.jsxs)(b.a.Footer,{children:[Object(u.jsxs)(d.a,{variant:"danger",onClick:C,children:[Object(u.jsx)("i",{className:"bi bi-x-circle"}),"\xa0Close"]}),Object(u.jsxs)(d.a,{variant:"success",onClick:function(){r(g),C()},children:[Object(u.jsx)("i",{className:"bi bi-save"}),"\xa0Save"]})]})]})]})};var w=function(){return Object(u.jsxs)("div",{children:[Object(u.jsxs)(j.a,{bg:"light",expand:"lg",children:[Object(u.jsx)(j.a.Brand,{children:"Middleman"}),Object(u.jsx)(j.a.Toggle,{"aria-controls":"jsc-navbar"}),Object(u.jsx)(j.a.Collapse,{id:"jsc-navbar",children:Object(u.jsxs)(l.a,{className:"mr-auto",children:[Object(u.jsx)(O,{}),Object(u.jsx)(C,{})]})})]}),Object(u.jsx)("img",{src:"https://www.freevisitorcounters.com/en/home/counter/842593/t/0",style:{display:"none"},alt:"Visitor Counter"})]})},E=n(35),R=n.n(E),y=n(45),_=n(67),N=n(68),L=n(37),D=n.n(L),T=n(20),F=new(function(){function e(){Object(_.a)(this,e)}return Object(N.a)(e,[{key:"uploadFile",value:function(e){return D.a.get(p.SERVER_URL+"/upload?fileUrl="+e)}},{key:"getExistingDownloads",value:function(){return D.a.get(p.SERVER_URL+"/getexisting")}},{key:"deleteFile",value:function(){var e=Object(y.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.get(p.SERVER_URL+"/delete?id="+t).then((function(){T.b.warning("\ud83e\uddef File deleted from middleman cache")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"showErrorMessage",value:function(){T.b.error('\ud83d\udc94 The "Server URL" cannot be empty. Please specify one in the Config')}}]),e}()),k=n(69),A=(n(108),function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],i=function(e){e.preventDefault(),n?(Object(k.loadProgressBar)(),r(""),T.b.success("\u2705 Download queued"),F.uploadFile(n).then((function(){})).catch((function(e){T.b.error("\ud83d\ude22 Sorry, an error occured: "+e)}))):T.b.error("\ud83d\udc94 Download URL cannot be empty")};return Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("h5",{children:"Cache files to Middleman"}),Object(u.jsx)("form",{onSubmit:i,children:Object(u.jsxs)(f.a,{children:[Object(u.jsx)(f.a.Prepend,{children:Object(u.jsx)(f.a.Text,{children:Object(u.jsx)("i",{className:"bi bi-link-45deg"})})}),Object(u.jsx)(m.a,{placeholder:"Download URL",value:n,onChange:function(e){r(e.target.value)},"aria-label":"Download URL"}),Object(u.jsx)(f.a.Append,{children:Object(u.jsxs)(d.a,{onClick:i,type:"submit",children:[Object(u.jsx)("i",{className:"bi bi-download"}),"\xa0Cache to Middleman"]})})]})})]})}),I=n(121),U=n(114),M=n(115),B=n(116),K=n(123),P=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1];Object(a.useEffect)((function(){r(e.item)}),[e.item]);return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:c.fileUrl}),Object(u.jsx)("td",{children:c.fileName}),Object(u.jsxs)("td",{children:[c.progress,Object(u.jsx)(K.a,{now:c.progress,animated:!0})]}),Object(u.jsxs)("td",{children:[new Date(c.createdAt).toDateString(),Object(u.jsx)("br",{}),new Date(c.createdAt).toLocaleTimeString()]})]})},V=function(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),n=t[0],c=t[1],r=g.a.database().ref("files/");Object(a.useEffect)((function(){r.on("value",function(){var e=Object(y.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(t.val());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){T.b.error("Could not read from DB: "+e.name)})),window.onbeforeunload=function(){r.off()}}),[]);return Object(u.jsxs)(I.a,{defaultActiveKey:"0",children:[Object(u.jsx)(U.a,{children:Object(u.jsx)(M.a,{children:Object(u.jsxs)("h5",{children:["Files in Middleman (",n?Object.keys(n).length:0,")"]})})}),Object(u.jsx)(U.a,{children:Object(u.jsxs)(B.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Original Download URL"}),Object(u.jsx)("th",{children:"File Name"}),Object(u.jsx)("th",{children:"Status"}),Object(u.jsx)("th",{children:"Created Time"})]})}),Object(u.jsx)("tbody",{children:function(){if(n&&Object.keys(n).length>0){var e=[];for(var t in n)e.push(Object(u.jsx)(P,{item:n[t]},t));return e}return Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:4,children:"No results found. Try fetching again."})})}()})]})})]})},G=(n(109),n(70)),H=n.n(G);var W=function(){return new H.a({label:"\ud83c\udf13",autoMatchOsTheme:!1}).showWidget(),Object(u.jsxs)(s.a,{children:[Object(u.jsxs)(S,{children:[Object(u.jsx)(w,{}),Object(u.jsx)("br",{}),Object(u.jsx)(A,{}),Object(u.jsx)("hr",{}),Object(u.jsx)(V,{})]}),Object(u.jsx)(T.a,{position:"bottom-right"})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,124)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(W,{})}),document.getElementById("root")),J()},55:function(e,t,n){},75:function(e,t,n){},79:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.17640068.chunk.js.map