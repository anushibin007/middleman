(this.webpackJsonpmiddleman=this.webpackJsonpmiddleman||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(23),i=n.n(r),s=(n(75),n(76),n(77),n(116)),j=(n(78),n(119)),o=n(118),l=n(17),d=n(111),b=n(117),u=(n(55),n(3));var O=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],i=function(){return r(!1)};return Object(u.jsxs)(a.a.Fragment,{children:[Object(u.jsx)(d.a,{variant:"navbar-btn",onClick:function(){return r(!0)},children:"\ud83d\udc71\u200d\u2642\ufe0f About Me"}),Object(u.jsxs)(b.a,{show:n,onHide:i,children:[Object(u.jsx)(b.a.Header,{children:Object(u.jsx)(b.a.Title,{children:"\ud83d\udc71\u200d\u2642\ufe0f About Me"})}),Object(u.jsx)(b.a.Body,{children:Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsxs)("div",{className:"d-flex justify-content-center",children:["Designed & Developed with ",Object(u.jsx)("span",{className:"heart animate__animated animate__heartBeat animate__infinite px-1",children:"\u2665"})," by"," ",Object(u.jsx)("a",{className:"px-1",href:"https://github.com/anushibin007/middleman",children:"Anu Shibin Joseph Raj"})]}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsx)("img",{src:"https://www.freevisitorcounters.com/en/counter/render/842593/t/0",border:"0",className:"counterimg",alt:"Visitor Counter"})})]})}),Object(u.jsx)(b.a.Footer,{children:Object(u.jsx)(d.a,{variant:"info",onClick:i,children:"Close"})})]})]})},h=n(43),x=n(48),f=n(112),m=n(121),p={LOCALSTORAGE_CONFIG_KEY:"MIDDLEMAN_SERVER_URL_KEY",SERVER_URL:Object({NODE_ENV:"production",PUBLIC_URL:"/middleman",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SERVER_URL||"https://us-central1-middleman-e3e91.cloudfunctions.net",APPLICATION_CONTEXT_PATH:"/middleman"},g=n(30),v=(n(87),Object(c.createContext)()),S=function(e){var t=Object(c.useState)({userMailId:""}),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){var e=localStorage.getItem(p.LOCALSTORAGE_CONFIG_KEY);e&&r(JSON.parse(e))}),[]),Object(c.useEffect)((function(){localStorage.setItem(p.LOCALSTORAGE_CONFIG_KEY,JSON.stringify(a))}),[a]),Object(u.jsx)(v.Provider,{value:[a,r],children:e.children})};g.a.apps.length?g.a.app():g.a.initializeApp({apiKey:"AIzaSyArqWXJZLZaw7WgWfKjangejIpOptcv6lk",authDomain:"middleman-e3e91.firebaseapp.com",databaseURL:"https://middleman-e3e91-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"middleman-e3e91",storageBucket:"middleman-e3e91.appspot.com",messagingSenderId:"755724474676",appId:"1:755724474676:web:541ed5a70384e5179dad61",measurementId:"G-B0D97MQ495"}),g.a.analytics();var C=function(){var e=Object(c.useContext)(v),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),s=Object(l.a)(i,2),j=s[0],o=s[1],O=Object(c.useState)({}),p=Object(l.a)(O,2),g=p[0],S=p[1],C=function(){return o(!1)};return Object(u.jsxs)(a.a.Fragment,{children:[Object(u.jsx)(d.a,{variant:"navbar-btn",onClick:function(){S(Object(x.a)({},n)),o(!0)},children:"\u2699 Config"}),Object(u.jsxs)(b.a,{show:j,onHide:C,children:[Object(u.jsx)(b.a.Header,{children:Object(u.jsx)(b.a.Title,{children:"\u2699 Config"})}),Object(u.jsx)(b.a.Body,{children:Object(u.jsx)("div",{className:"d-flex flex-column",children:Object(u.jsxs)(f.a,{children:[Object(u.jsx)(f.a.Prepend,{children:Object(u.jsx)(f.a.Text,{children:"\u2709 Your Mail ID"})}),Object(u.jsx)(m.a,{type:"email",placeholder:"me@gmail.com",name:"userMailId",value:g.userMailId,onChange:function(e){S(Object(x.a)(Object(x.a)({},n),{},Object(h.a)({},e.target.name,e.target.value)))},"aria-label":"Server URL"})]})})}),Object(u.jsxs)(b.a.Footer,{children:[Object(u.jsx)(d.a,{variant:"danger",onClick:C,children:"\ud83c\udfc3\u200d\u2640\ufe0f Close"}),Object(u.jsx)(d.a,{variant:"success",onClick:function(){r(g),C()},children:"\ud83d\udcbe Save"})]})]})]})};var w=function(){return Object(u.jsxs)("div",{children:[Object(u.jsxs)(j.a,{bg:"light",expand:"lg",children:[Object(u.jsx)(j.a.Brand,{href:p.APPLICATION_CONTEXT_PATH,children:"\ud83c\udfc3\u200d\u2642\ufe0f Middleman"}),Object(u.jsx)(j.a.Toggle,{"aria-controls":"jsc-navbar"}),Object(u.jsx)(j.a.Collapse,{id:"jsc-navbar",children:Object(u.jsxs)(o.a,{className:"mr-auto",children:[Object(u.jsx)(O,{}),Object(u.jsx)(C,{})]})})]}),Object(u.jsx)("img",{src:"https://www.freevisitorcounters.com/en/home/counter/842593/t/0",style:{display:"none"},alt:"Visitor Counter"})]})},E=n(35),R=n.n(E),_=n(45),y=n(67),T=n(68),L=n(37),A=n.n(L),D=n(20),F=new(function(){function e(){Object(y.a)(this,e)}return Object(T.a)(e,[{key:"uploadFile",value:function(e){return A.a.get(p.SERVER_URL+"/upload?fileUrl="+e)}},{key:"getExistingDownloads",value:function(){return A.a.get(p.SERVER_URL+"/getexisting")}},{key:"deleteFile",value:function(){var e=Object(_.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A.a.get(p.SERVER_URL+"/delete?id="+t).then((function(){D.b.warning("\ud83e\uddef File deleted from middleman cache")})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"showErrorMessage",value:function(){D.b.error('\ud83d\udc94 The "Server URL" cannot be empty. Please specify one in the Config')}}]),e}()),I=n(69),N=(n(107),function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],i=function(e){e.preventDefault(),n?(Object(I.loadProgressBar)(),r(""),D.b.success("\u2705 Download queued"),F.uploadFile(n).then((function(){})).catch((function(e){D.b.error("\ud83d\ude22 Sorry, an error occured: "+e)}))):D.b.error("\ud83d\udc94 Download URL cannot be empty")};return Object(u.jsxs)(a.a.Fragment,{children:[Object(u.jsx)("h5",{children:"\ud83d\udd25 Cache files to Middleman"}),Object(u.jsx)("form",{onSubmit:i,children:Object(u.jsxs)(f.a,{children:[Object(u.jsx)(f.a.Prepend,{children:Object(u.jsx)(f.a.Text,{children:"\ud83d\udd17"})}),Object(u.jsx)(m.a,{placeholder:"Download URL",value:n,onChange:function(e){r(e.target.value)},"aria-label":"Download URL"}),Object(u.jsx)(f.a.Append,{children:Object(u.jsx)(d.a,{onClick:i,type:"submit",children:"\ud83d\ude80 Cache to Middleman"})})]})})]})}),M=n(120),U=n(113),k=n(114),P=n(115),B=n(122),K=function(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),r=n[0],i=n[1];Object(c.useEffect)((function(){i(e.item)}),[e.item]);return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)("a",{href:r.fileUrl,children:r.fileName})}),Object(u.jsx)("td",{children:function(){if(r.size)return Math.round(r.size/1024/1024*100)/100}()}),Object(u.jsx)("td",{children:r.publicUrl?Object(u.jsx)("a",{href:r.publicUrl,children:"Download"}):"\u23f3"}),Object(u.jsx)("td",{children:0===r.progress?Object(u.jsxs)(a.a.Fragment,{children:["\ud83c\udfd7 Staging your file",Object(u.jsx)(B.a,{variant:"warning",now:100,animated:!0})]}):100===r.progress?Object(u.jsx)(a.a.Fragment,{children:"\u2705 Complete"}):-1===r.progress?Object(u.jsx)(a.a.Fragment,{children:"\u26a0 Errored"}):Object(u.jsxs)(a.a.Fragment,{children:["\u25b6 ",r.progress,Object(u.jsx)(B.a,{now:r.progress,animated:!0})]})}),Object(u.jsxs)("td",{children:[new Date(r.createdAt).toDateString(),Object(u.jsx)("br",{}),new Date(r.createdAt).toLocaleTimeString()]})]})},H=function(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),n=t[0],a=t[1],r=g.a.database().ref("files/");Object(c.useEffect)((function(){r.on("value",function(){var e=Object(_.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(t.val());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){D.b.error("Could not read from DB: "+e.name)})),window.onbeforeunload=function(){r.off()}}),[]);return Object(u.jsxs)(M.a,{defaultActiveKey:"0",children:[Object(u.jsx)(U.a,{children:Object(u.jsx)(k.a,{children:Object(u.jsxs)("h5",{children:["\ud83d\uddc3 Files in Middleman (",n?Object.keys(n).length:0,")"]})})}),Object(u.jsx)(U.a,{children:Object(u.jsxs)(P.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"\ud83d\udd17 Original Download URL"}),Object(u.jsx)("th",{children:"\ud83d\udccf Size (MB)"}),Object(u.jsxs)("th",{children:["\ud83d\ude80 Download ",Object(u.jsx)("br",{}),"from Middleman"]}),Object(u.jsx)("th",{children:"\u26fd Status"}),Object(u.jsx)("th",{children:"\ud83d\udd50 Created Time"})]})}),Object(u.jsx)("tbody",{children:function(){if(n&&Object.keys(n).length>0){var e=[];for(var t in n)e.push(Object(u.jsx)(K,{item:n[t]},t));return e}return Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:5,children:"\ud83d\udca1 Nothing cached to Middleman"})})}()})]})})]})},V=(n(108),n(70)),G=n.n(V);var W=function(){return new G.a({label:"\ud83c\udf13",autoMatchOsTheme:!1}).showWidget(),Object(u.jsxs)(s.a,{children:[Object(u.jsxs)(S,{children:[Object(u.jsx)(w,{}),Object(u.jsx)("br",{}),Object(u.jsx)(N,{}),Object(u.jsx)("hr",{}),Object(u.jsx)(H,{})]}),Object(u.jsx)(D.a,{position:"bottom-right"})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,123)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(W,{})}),document.getElementById("root")),J()},55:function(e,t,n){},75:function(e,t,n){},78:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.cd715939.chunk.js.map