(this.webpackJsonpmiddleman=this.webpackJsonpmiddleman||[]).push([[0],{39:function(e,t,n){},58:function(e,t,n){},62:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(15),s=n.n(a),i=(n(58),n(59),n(60),n(61),n(94)),l=(n(62),n(97)),j=n(96),o=n(7),d=n(89),b=n(95),O=(n(39),n(1));var h=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1],s=function(){return a(!1)};return Object(O.jsxs)(r.a.Fragment,{children:[Object(O.jsxs)(d.a,{variant:"navbar-btn",onClick:function(){return a(!0)},children:[Object(O.jsx)("i",{className:"bi bi-person"}),"\xa0About Me"]}),Object(O.jsxs)(b.a,{show:n,onHide:s,children:[Object(O.jsx)(b.a.Header,{children:Object(O.jsxs)(b.a.Title,{children:[Object(O.jsx)("i",{className:"bi bi-person"}),"\xa0About Me"]})}),Object(O.jsx)(b.a.Body,{children:Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-center",children:["Designed & Developed with ",Object(O.jsx)("span",{className:"heart animate__animated animate__heartBeat animate__infinite px-1",children:"\u2665"})," by"," ",Object(O.jsx)("a",{className:"px-1",href:"https://github.com/anushibin007/middleman",children:"Anu Shibin Joseph Raj"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("div",{className:"d-flex justify-content-center",children:Object(O.jsx)("img",{src:"https://www.freevisitorcounters.com/en/counter/render/842593/t/0",border:"0",className:"counterimg",alt:"Visitor Counter"})})]})}),Object(O.jsx)(b.a.Footer,{children:Object(O.jsx)(d.a,{variant:"info",onClick:s,children:"Close"})})]})]})},u=n(31),x=n(35),m=n(90),f=n(99),v={LOCALSTORAGE_SERVER_URL_KEY:"MIDDLEMAN_SERVER_URL_KEY"},g=Object(c.createContext)(),p=function(e){var t=Object(c.useState)({serverUrl:"",userMailId:""}),n=Object(o.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){var e=localStorage.getItem(v.LOCALSTORAGE_SERVER_URL_KEY);a(e?JSON.parse(e):{serverUrl:"https://middleman-backend-server.herokuapp.com"})}),[]),Object(c.useEffect)((function(){localStorage.setItem(v.LOCALSTORAGE_SERVER_URL_KEY,JSON.stringify(r))}),[r]),Object(O.jsx)(g.Provider,{value:[r,a],children:e.children})};var w=function(){var e=Object(c.useContext)(g),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),i=Object(o.a)(s,2),l=i[0],j=i[1],h=Object(c.useState)({}),v=Object(o.a)(h,2),p=v[0],w=v[1],C=function(){return j(!1)},S=function(e){w(Object(x.a)(Object(x.a)({},n),{},Object(u.a)({},e.target.name,e.target.value)))};return Object(O.jsxs)(r.a.Fragment,{children:[Object(O.jsxs)(d.a,{variant:"navbar-btn",onClick:function(){w(Object(x.a)({},n)),j(!0)},children:[Object(O.jsx)("i",{className:"bi bi-gear"}),"\xa0Config"]}),Object(O.jsxs)(b.a,{show:l,onHide:C,children:[Object(O.jsx)(b.a.Header,{children:Object(O.jsxs)(b.a.Title,{children:[Object(O.jsx)("i",{className:"bi bi-gear"}),"\xa0Config"]})}),Object(O.jsx)(b.a.Body,{children:Object(O.jsxs)("div",{className:"d-flex flex-column",children:[Object(O.jsxs)(m.a,{children:[Object(O.jsx)(m.a.Prepend,{children:Object(O.jsxs)(m.a.Text,{children:[Object(O.jsx)("i",{className:"bi bi-link-45deg"}),"\xa0Server URL"]})}),Object(O.jsx)(f.a,{placeholder:"https://middleman-backend-server.herokuapp.com",name:"serverUrl",value:p.serverUrl,onChange:S,"aria-label":"Server URL"})]}),Object(O.jsx)("br",{}),Object(O.jsxs)(m.a,{children:[Object(O.jsx)(m.a.Prepend,{children:Object(O.jsxs)(m.a.Text,{children:[Object(O.jsx)("i",{className:"bi bi-envelope"}),"\xa0Your Mail ID"]})}),Object(O.jsx)(f.a,{type:"email",placeholder:"me@gmail.com",name:"userMailId",value:p.userMailId,onChange:S,"aria-label":"Server URL"})]})]})}),Object(O.jsxs)(b.a.Footer,{children:[Object(O.jsxs)(d.a,{variant:"danger",onClick:C,children:[Object(O.jsx)("i",{className:"bi bi-x-circle"}),"\xa0Close"]}),Object(O.jsxs)(d.a,{variant:"success",onClick:function(){a(p),C()},children:[Object(O.jsx)("i",{className:"bi bi-save"}),"\xa0Save"]})]})]})]})};var C=function(){return Object(O.jsxs)("div",{children:[Object(O.jsxs)(l.a,{bg:"light",expand:"lg",children:[Object(O.jsx)(l.a.Brand,{children:"Middleman"}),Object(O.jsx)(l.a.Toggle,{"aria-controls":"jsc-navbar"}),Object(O.jsx)(l.a.Collapse,{id:"jsc-navbar",children:Object(O.jsxs)(j.a,{className:"mr-auto",children:[Object(O.jsx)(h,{}),Object(O.jsx)(w,{})]})})]}),Object(O.jsx)("img",{src:"https://www.freevisitorcounters.com/en/home/counter/842593/t/0",style:{display:"none"},alt:"Visitor Counter"})]})},S=n(50),E=n(51),N=n(26),R=n.n(N),U=n(12),y=new(function(){function e(){Object(S.a)(this,e)}return Object(E.a)(e,[{key:"downloadFile",value:function(e,t){if(""!==e)return R.a.get(e+"/download?downloadUrl="+t);this.showErrorMessage()}},{key:"getExistingDownloads",value:function(e){if(""!==e)return R.a.get(e+"/api/middlemanDocs?size=100");this.showErrorMessage()}},{key:"deleteFile",value:function(e,t){if(""!==e)return U.b.warning("\ud83e\uddef File deleted from middleman cache"),R.a.get(e+"/delete?id="+t);this.showErrorMessage()}},{key:"showErrorMessage",value:function(){U.b.error('\ud83d\udc94 The "Server URL" cannot be empty. Please specify one in the Config')}}]),e}()),k=n(52),L=(n(85),function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useContext)(g),i=Object(o.a)(s,1)[0];return Object(O.jsxs)(r.a.Fragment,{children:[Object(O.jsx)("h5",{children:"Cache files to Middleman"}),Object(O.jsxs)(m.a,{children:[Object(O.jsx)(m.a.Prepend,{children:Object(O.jsx)(m.a.Text,{children:Object(O.jsx)("i",{className:"bi bi-link-45deg"})})}),Object(O.jsx)(f.a,{placeholder:"Download URL",value:n,onChange:function(e){a(e.target.value)},"aria-label":"Download URL"}),Object(O.jsx)(m.a.Append,{children:Object(O.jsxs)(d.a,{onClick:function(){i.serverUrl?n?(Object(k.loadProgressBar)(),a(""),U.b.success("\u2705 Download queued. Refresh to see the progress"),y.downloadFile(i.serverUrl,n).then((function(){})).catch((function(e){U.b.error("\ud83d\ude22 Sorry, an error occured: "+e)}))):U.b.error("\ud83d\udc94 Download URL cannot be empty"):y.showErrorMessage()},type:"submit",children:[Object(O.jsx)("i",{className:"bi bi-download"}),"\xa0Cache to Middleman"]})})]})]})}),M=n(98),D=n(91),_=n(92),F=n(93),T=function(e){var t=Object(c.useContext)(g),n=Object(o.a)(t,1)[0],r=Object(c.useState)([]),a=Object(o.a)(r,2),s=a[0],i=a[1];Object(c.useEffect)((function(){i(e.item)}),[e.item]);var l=function(){return"done"!==s.status&&"error"!==s.status},j=function(){window.open(s.middlemanUrl)},b=function(){Object(U.b)("\ud83d\ude80 Still under Development. Stay Tuned!")};return Object(O.jsxs)("tr",{className:"done"===s.status?"table-success":"in progress"===s.status?"table-warning":"error"===s.status?"table-danger":void 0,children:[Object(O.jsx)("td",{children:"error"===s.status?s.downloadUrl:Object(O.jsx)("a",{href:s.downloadUrl,children:s.downloadUrl})}),Object(O.jsx)("td",{children:s.status}),Object(O.jsx)("td",{children:"error"===s.status?Object(O.jsxs)(d.a,{variant:"warning",disabled:l(),onClick:b,children:[Object(O.jsx)("i",{className:"bi bi-download"}),"\xa0Retry"]}):Object(O.jsxs)(d.a,{variant:"success",disabled:l(),onClick:j,children:[Object(O.jsx)("i",{className:"bi bi-download"}),"\xa0Download"]})}),Object(O.jsx)("td",{children:Object(O.jsxs)(d.a,{variant:"danger",disabled:l(),onClick:function(){y.deleteFile(n.serverUrl,s.id)},children:[Object(O.jsx)("i",{className:"bi bi-trash"}),"\xa0Delete"]})})]})},A=function(){var e=Object(c.useContext)(g),t=Object(o.a)(e,1)[0],n=Object(c.useState)([]),r=Object(o.a)(n,2),a=r[0],s=r[1],i=function(){t.serverUrl&&y.getExistingDownloads(t.serverUrl).then((function(e){s(e.data._embedded.middlemanDocs)})).catch((function(e){U.b.error("\ud83d\ude22 Sorry, an error occured: "+e)}))};Object(c.useEffect)(i,[t.serverUrl]);return Object(O.jsxs)(M.a,{defaultActiveKey:"0",children:[Object(O.jsxs)(D.a,{children:[Object(O.jsx)(_.a,{children:Object(O.jsx)("h5",{children:"Files in Middleman"})}),Object(O.jsx)(_.a,{children:Object(O.jsxs)(d.a,{variant:"warning",onClick:i,className:"float-end",children:[Object(O.jsx)("i",{className:"bi bi-arrow-repeat"})," Refresh"]})})]}),Object(O.jsx)(D.a,{children:Object(O.jsxs)(F.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"Original Download URL"}),Object(O.jsx)("th",{children:"Status"}),Object(O.jsx)("th",{children:"Download from Middleman"}),Object(O.jsx)("th",{children:"Delete from Middleman"})]})}),Object(O.jsx)("tbody",{children:0!==a.length?a.map((function(e){return Object(O.jsx)(T,{item:e},e.id)})):Object(O.jsx)("tr",{children:Object(O.jsx)("td",{colSpan:4,children:"No results found. Try fetching again."})})})]})})]})},I=(n(86),n(53)),P=n.n(I);var B=function(){return new P.a({label:"\ud83c\udf13",autoMatchOsTheme:!1}).showWidget(),Object(O.jsxs)(i.a,{children:[Object(O.jsxs)(p,{children:[Object(O.jsx)(C,{}),Object(O.jsx)("br",{}),Object(O.jsx)(L,{}),Object(O.jsx)("hr",{}),Object(O.jsx)(A,{})]}),Object(O.jsx)(U.a,{position:"bottom-right"})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,100)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};s.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(B,{})}),document.getElementById("root")),V()}},[[87,1,2]]]);
//# sourceMappingURL=main.64d983a3.chunk.js.map